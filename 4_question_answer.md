最小二乗法は、平面上のいくつかの点(x_i, y_i)の関係を最も良く近似する関数の式を求める方法です。
![最小二乗法](https://gyazo.com/f2be3507fd3218aa864562bae162fc4d)

質問の、
＞なぜ2乗しているのか
は、結論から言えば、2乗することが近似する関数の式を求める近道だからです。
関数の式を定めるには、各n個の点と近似する関数との差
```math
y_i - (ax_i + b)
```
の2乗の総和を最小にするa,bを求めます(数式はtex表記で書きます)。
ここで、2乗する意味を考えてみます。
まず、単純に2乗しないで差の絶対値の総和を利用します。
差の絶対値の総和を計算すると、
```math
n| y_i - (ax_i + b) |
```
となります。しかし、この形では、この式を最小にするa,bを求めることは困難です。
そこで、差の絶対値の総和の2乗を計算してみましょう。すると(途中式は省きます)、
```math
n{ b - ( \bar{y} - a \bar{x} ) }^2 + ( \sum x_i^2 - n \bar{x}^2 ) { a - \frac{ \sum x_i y_i - n \bar{x}{y} }{ \sum x_i^2 - n \bar{x}^2 } }^2
+ \sum y_i^2 - n \bar{y}^2 - \frac{ (\sum x_i y_i - n \bar{x}{y})^2 }{ \sum x_i^2 - n \bar{x}^2 }
```
となります(計算の途中で\sum x_i = n \bar{x}, \sum y_i = n \bar{y}としました)。
この式から、
```math
b = \bar{y} - a \bar{x}
```
```math
a = \frac{ \sum x_i y_i - n \bar{x}{y} }{ \sum x_i^2 - n \bar{x}^2 }
```
と定めると、総和の2乗は最小になることが分かります。
一見複雑な形に見えますが、統計学の知識を思い出すと、aの分母は分散の形になっており、分子は共分散の形になっています。
各点の座標値と点の平均値さえ計算すれば、a,bの値を定め、各点の関係を近似する関数の式を求めることができます。
長くなりましたが、以上が2乗する理由になります。

また、
＞なぜ最後に2で割っているのか
についてですが、これは先ほど説明した総和が()^2の形で表される場合のことを仰っていますか？
関数の式を定めるだけでなく、その関数がどのような形をしているのかや、ある区間での変化の割合を計算したい場合も出てきます。
その場合、式を微分する必要があります。
ここで、高校の微分の知識を思い出すと、()の右上の数字が()の前に掛けられるという法則があったと思います。
2で割るという行為は、微分計算を楽にするための便利な道具のようなものです。
なお、全体を2で割っても最終的ない答えは変わりません。逆に、2で割っておかないと、微分したとき、計算が煩雑になってしまいます。